{"version":3,"file":"dropdown-panel.min.js","sources":["../src/components/dropdown-component.js","../src/components/dropdown-trigger.js","../src/components/dropdown-panel.js","../src/index.js"],"sourcesContent":["/**\n * main dropdown component\n * manages interactions between <dropdown-trigger> and <dropdown-panel>\n * @class DropdownComponent\n * @extends HTMLElement\n */\nexport class DropdownComponent extends HTMLElement {\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tconnectedCallback() {\n\t\tconst _ = this;\n\n\t\t// make component focusable for keyboard navigation\n\t\t_.setAttribute('tabindex', '-1');\n\n\t\t// get trigger element - use > to select only direct children\n\t\t_.trigger = _.querySelector(':scope > dropdown-trigger');\n\n\t\t// get panel element - use > to select only direct children\n\t\t_.panel = _.querySelector(':scope > dropdown-panel');\n\n\t\t// validate existence\n\t\tif (!_.trigger || !_.panel) {\n\t\t\tconsole.warn(\n\t\t\t\t'dropdown-component requires <dropdown-trigger> and <dropdown-panel> as direct children'\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\t// check if panel has 'wide' attribute for full-width layout\n\t\tif (_.panel.hasAttribute('wide')) {\n\t\t\t_.style.position = 'static';\n\t\t} else {\n\t\t\t_.style.position = 'relative';\n\t\t}\n\n\t\t// assign unique id to panel if needed\n\t\tconst panelId = _.panel.id || `dropdown-panel-${Date.now()}`;\n\t\t_.panel.id = panelId;\n\n\t\t// assign unique id to trigger if needed (for aria-labelledby)\n\t\tif (!_.trigger.id) {\n\t\t\t_.trigger.id = `dropdown-trigger-${Date.now()}`;\n\t\t}\n\n\t\t// initialize aria attributes\n\t\t_.trigger.setAttribute('aria-controls', panelId);\n\t\t_.trigger.setAttribute('aria-expanded', 'false');\n\t\t_.panel.setAttribute('aria-hidden', 'true');\n\t\t_.panel.setAttribute('aria-labelledby', _.trigger.id);\n\n\t\t// initial state\n\t\t_.hide();\n\n\t\t// mouse enter and leave events on main dropdown-component element\n\t\t_.addEventListener('mouseenter', () => _.show());\n\t\t_.addEventListener('mouseleave', () => _.hide());\n\n\t\t// show or hide with enter\n\t\t_.trigger.addEventListener('keydown', (event) => {\n\t\t\tif (event.key === 'Enter' || event.key === ' ') {\n\t\t\t\tevent.preventDefault();\n\t\t\t\t_.toggle();\n\t\t\t}\n\t\t\tif (event.key === 'Escape') {\n\t\t\t\t// Only handle if panel is actually open\n\t\t\t\tif (_.panel.getAttribute('aria-hidden') === 'false') {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tevent.stopPropagation(); // Prevent closing parent menus\n\t\t\t\t\t_.hide();\n\t\t\t\t\t_.trigger.focus();\n\t\t\t\t}\n\t\t\t\t// If panel is closed, do nothing - let event bubble to parent\n\t\t\t}\n\t\t});\n\n\t\t// hide panel when escape\n\t\t_.panel.addEventListener('keydown', (event) => {\n\t\t\tif (event.key === 'Escape') {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation(); // Prevent closing parent menus\n\t\t\t\t_.hide();\n\t\t\t\t_.trigger.focus();\n\t\t\t}\n\t\t});\n\t}\n\n\ttoggle() {\n\t\tconst _ = this;\n\t\tif (_.panel.getAttribute('aria-hidden') === 'true') {\n\t\t\t_.show();\n\t\t} else {\n\t\t\t_.hide();\n\t\t}\n\t}\n\n\tshow() {\n\t\tconst _ = this;\n\t\t_.panel.setAttribute('aria-hidden', 'false');\n\t\t_.panel.removeAttribute('inert');\n\t\t_.trigger.setAttribute('aria-expanded', 'true');\n\t}\n\n\thide() {\n\t\tconst _ = this;\n\t\t_.panel.setAttribute('aria-hidden', 'true');\n\t\t_.panel.setAttribute('inert', '');\n\t\t_.trigger.setAttribute('aria-expanded', 'false');\n\t}\n}\n\n// define the element\nif (!customElements.get('dropdown-component')) {\n\tcustomElements.define('dropdown-component', DropdownComponent);\n}\n","/**\n * Dropdown trigger component\n * Manages user interactions for opening and closing the dropdown\n * @class DropdownTrigger\n * @extends HTMLElement\n */\nexport class DropdownTrigger extends HTMLElement {\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\t/**\n\t * when element is connected to the dom\n\t */\n\tconnectedCallback() {\n\t\tconst _ = this;\n\n\t\t// ensure trigger has an ID for ARIA relationships\n\t\tif (!_.id) {\n\t\t\t_.id = `dropdown-trigger-${Date.now()}`;\n\t\t}\n\n\t\t// ensure trigger is focusable\n\t\tif (!_.hasAttribute('tabindex')) {\n\t\t\t_.setAttribute('tabindex', '0');\n\t\t}\n\n\t\t// set role for accessibility\n\t\tif (!_.hasAttribute('role')) {\n\t\t\t_.setAttribute('role', 'button');\n\t\t}\n\n\t\t// prevent text selection on trigger\n\t\t_.style.userSelect = 'none';\n\t}\n}\n","/**\n * Dropdown panel component\n * Container for dropdown content\n * @class DropdownPanel\n * @extends HTMLElement\n */\nexport class DropdownPanel extends HTMLElement {\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\t/**\n\t * when element is connected to the dom\n\t */\n\tconnectedCallback() {\n\t\tconst _ = this;\n\n\t\t// ensure aria-hidden is set initially\n\t\tif (!_.hasAttribute('aria-hidden')) {\n\t\t\t_.setAttribute('aria-hidden', 'true');\n\t\t}\n\t}\n}\n","/**\n * @file Main entry point for dropdown-panel web component\n * @author Cory Schulz\n * @version 0.1.0\n */\n\n// import components\nimport { DropdownComponent } from './components/dropdown-component.js';\nimport { DropdownTrigger } from './components/dropdown-trigger.js';\nimport { DropdownPanel } from './components/dropdown-panel.js';\n\n// export components for external use\nexport { DropdownComponent, DropdownTrigger, DropdownPanel };\n\n// define custom elements if not already defined\nif (!customElements.get('dropdown-component')) {\n\tcustomElements.define('dropdown-component', DropdownComponent);\n}\n\nif (!customElements.get('dropdown-trigger')) {\n\tcustomElements.define('dropdown-trigger', DropdownTrigger);\n}\n\nif (!customElements.get('dropdown-panel')) {\n\tcustomElements.define('dropdown-panel', DropdownPanel);\n}\n"],"names":["DropdownComponent","HTMLElement","constructor","super","connectedCallback","_","this","setAttribute","trigger","querySelector","panel","console","warn","hasAttribute","style","position","panelId","id","Date","now","hide","addEventListener","show","event","key","preventDefault","toggle","getAttribute","stopPropagation","focus","removeAttribute","customElements","get","define","DropdownTrigger","userSelect","DropdownPanel"],"mappings":"qPAMO,MAAMA,UAA0BC,YACtC,WAAAC,GACCC,OACA,CAED,iBAAAC,GACC,MAAMC,EAAIC,KAYV,GATAD,EAAEE,aAAa,WAAY,MAG3BF,EAAEG,QAAUH,EAAEI,cAAc,6BAG5BJ,EAAEK,MAAQL,EAAEI,cAAc,4BAGrBJ,EAAEG,UAAYH,EAAEK,MAIpB,YAHAC,QAAQC,KACP,0FAMEP,EAAEK,MAAMG,aAAa,QACxBR,EAAES,MAAMC,SAAW,SAEnBV,EAAES,MAAMC,SAAW,WAIpB,MAAMC,EAAUX,EAAEK,MAAMO,IAAM,kBAAkBC,KAAKC,QACrDd,EAAEK,MAAMO,GAAKD,EAGRX,EAAEG,QAAQS,KACdZ,EAAEG,QAAQS,GAAK,oBAAoBC,KAAKC,SAIzCd,EAAEG,QAAQD,aAAa,gBAAiBS,GACxCX,EAAEG,QAAQD,aAAa,gBAAiB,SACxCF,EAAEK,MAAMH,aAAa,cAAe,QACpCF,EAAEK,MAAMH,aAAa,kBAAmBF,EAAEG,QAAQS,IAGlDZ,EAAEe,OAGFf,EAAEgB,iBAAiB,cAAc,IAAMhB,EAAEiB,SACzCjB,EAAEgB,iBAAiB,cAAc,IAAMhB,EAAEe,SAGzCf,EAAEG,QAAQa,iBAAiB,WAAYE,IACpB,UAAdA,EAAMC,KAAiC,MAAdD,EAAMC,MAClCD,EAAME,iBACNpB,EAAEqB,UAEe,WAAdH,EAAMC,KAEmC,UAAxCnB,EAAEK,MAAMiB,aAAa,iBACxBJ,EAAME,iBACNF,EAAMK,kBACNvB,EAAEe,OACFf,EAAEG,QAAQqB,QAGX,IAIFxB,EAAEK,MAAMW,iBAAiB,WAAYE,IAClB,WAAdA,EAAMC,MACTD,EAAME,iBACNF,EAAMK,kBACNvB,EAAEe,OACFf,EAAEG,QAAQqB,QACV,GAEF,CAED,MAAAH,GACC,MAAMrB,EAAIC,KACkC,SAAxCD,EAAEK,MAAMiB,aAAa,eACxBtB,EAAEiB,OAEFjB,EAAEe,MAEH,CAED,IAAAE,GACC,MAAMjB,EAAIC,KACVD,EAAEK,MAAMH,aAAa,cAAe,SACpCF,EAAEK,MAAMoB,gBAAgB,SACxBzB,EAAEG,QAAQD,aAAa,gBAAiB,OACxC,CAED,IAAAa,GACC,MAAMf,EAAIC,KACVD,EAAEK,MAAMH,aAAa,cAAe,QACpCF,EAAEK,MAAMH,aAAa,QAAS,IAC9BF,EAAEG,QAAQD,aAAa,gBAAiB,QACxC,EAIGwB,eAAeC,IAAI,uBACvBD,eAAeE,OAAO,qBAAsBjC,GC7GtC,MAAMkC,UAAwBjC,YACpC,WAAAC,GACCC,OACA,CAKD,iBAAAC,GACC,MAAMC,EAAIC,KAGLD,EAAEY,KACNZ,EAAEY,GAAK,oBAAoBC,KAAKC,SAI5Bd,EAAEQ,aAAa,aACnBR,EAAEE,aAAa,WAAY,KAIvBF,EAAEQ,aAAa,SACnBR,EAAEE,aAAa,OAAQ,UAIxBF,EAAES,MAAMqB,WAAa,MACrB,EC5BK,MAAMC,UAAsBnC,YAClC,WAAAC,GACCC,OACA,CAKD,iBAAAC,GACC,MAAMC,EAAIC,KAGLD,EAAEQ,aAAa,gBACnBR,EAAEE,aAAa,cAAe,OAE/B,ECNGwB,eAAeC,IAAI,uBACvBD,eAAeE,OAAO,qBAAsBjC,GAGxC+B,eAAeC,IAAI,qBACvBD,eAAeE,OAAO,mBAAoBC,GAGtCH,eAAeC,IAAI,mBACvBD,eAAeE,OAAO,iBAAkBG"}