{"version":3,"file":"dropdown-panel.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/components/dropdown-component.js","../src/components/dropdown-trigger.js","../src/components/dropdown-panel.js","../src/index.js"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","/**\n * main dropdown component\n * manages interactions between <dropdown-trigger> and <dropdown-panel>\n * @class DropdownComponent\n * @extends HTMLElement\n */\nexport class DropdownComponent extends HTMLElement {\n  constructor() {\n    super();\n  }\n\n  connectedCallback() {\n    const _ = this;\n\n    // make component focusable for keyboard navigation\n    _.setAttribute('tabindex', '-1');\n\n    // get trigger and panel elements\n    _.trigger = _.querySelector('dropdown-trigger');\n    _.panel = _.querySelector('dropdown-panel');\n\n    // validate existence\n    if (!_.trigger || !_.panel) {\n      console.warn(\n        'dropdown-component requires <dropdown-trigger> and <dropdown-panel>'\n      );\n      return;\n    }\n\n    // assign unique id to panel if needed\n    const panelId = _.panel.id || `dropdown-panel-${Date.now()}`;\n    _.panel.id = panelId;\n\n    // assign unique id to trigger if needed (for aria-labelledby)\n    if (!_.trigger.id) {\n      _.trigger.id = `dropdown-trigger-${Date.now()}`;\n    }\n\n    // initialize aria attributes\n    _.trigger.setAttribute('aria-controls', panelId);\n    _.trigger.setAttribute('aria-expanded', 'false');\n    _.panel.setAttribute('aria-hidden', 'true');\n    _.panel.setAttribute('role', 'menu');\n    _.panel.setAttribute('aria-labelledby', _.trigger.id);\n\n    // initial state\n    _.hide();\n\n    // mouse enter and leave events on main dropdown-component element\n    _.addEventListener('mouseenter', () => _.show());\n    _.addEventListener('mouseleave', () => _.hide());\n\n    // show or hide with enter\n    _.trigger.addEventListener('keydown', (event) => {\n      if (event.key === 'Enter' || event.key === ' ') {\n        event.preventDefault();\n        _.toggle();\n      }\n      if (event.key === 'Escape') {\n        event.preventDefault();\n        _.hide();\n        _.trigger.focus();\n      }\n    });\n\n    // hide panel when escape\n    _.panel.addEventListener('keydown', (event) => {\n      if (event.key === 'Escape') {\n        event.preventDefault();\n        _.hide();\n        _.trigger.focus();\n      }\n    });\n  }\n\n  toggle() {\n    const _ = this;\n    if (_.panel.getAttribute('aria-hidden') === 'true') {\n      _.show();\n    } else {\n      _.hide();\n    }\n  }\n\n  show() {\n    const _ = this;\n    _.panel.setAttribute('aria-hidden', 'false');\n    _.panel.removeAttribute('inert');\n    _.trigger.setAttribute('aria-expanded', 'true');\n  }\n\n  hide() {\n    const _ = this;\n    _.panel.setAttribute('aria-hidden', 'true');\n    _.panel.setAttribute('inert', '');\n    _.trigger.setAttribute('aria-expanded', 'false');\n  }\n}\n\n// define the element\nif (!customElements.get('dropdown-component')) {\n  customElements.define('dropdown-component', DropdownComponent);\n}\n","/**\n * Dropdown trigger component\n * Manages user interactions for opening and closing the dropdown\n * @class DropdownTrigger\n * @extends HTMLElement\n */\nexport class DropdownTrigger extends HTMLElement {\n  constructor() {\n    super();\n  }\n\n  /**\n   * when element is connected to the dom\n   */\n  connectedCallback() {\n    const _ = this;\n    \n    // ensure trigger has an ID for ARIA relationships\n    if (!_.id) {\n      _.id = `dropdown-trigger-${Date.now()}`;\n    }\n\n    // ensure trigger is focusable\n    if (!_.hasAttribute('tabindex')) {\n      _.setAttribute('tabindex', '0');\n    }\n\n    // set role for accessibility\n    if (!_.hasAttribute('role')) {\n      _.setAttribute('role', 'button');\n    }\n\n    // prevent text selection on trigger\n    _.style.userSelect = 'none';\n  }\n}","/**\n * Dropdown panel component\n * Container for dropdown content\n * @class DropdownPanel\n * @extends HTMLElement\n */\nexport class DropdownPanel extends HTMLElement {\n  constructor() {\n    super();\n  }\n\n  /**\n   * when element is connected to the dom\n   */\n  connectedCallback() {\n    const _ = this;\n    \n    // ensure aria-hidden is set initially\n    if (!_.hasAttribute('aria-hidden')) {\n      _.setAttribute('aria-hidden', 'true');\n    }\n    \n    // ensure role is menu by default\n    if (!_.hasAttribute('role')) {\n      _.setAttribute('role', 'menu');\n    }\n  }\n}","/**\n * @file Main entry point for dropdown-panel web component\n * @author Cory Schulz\n * @version 0.1.0\n */\n\n// import styles\nimport \"./dropdown-component.scss\";\n\n// import components\nimport { DropdownComponent } from \"./components/dropdown-component.js\";\nimport { DropdownTrigger } from \"./components/dropdown-trigger.js\";\nimport { DropdownPanel } from \"./components/dropdown-panel.js\";\n\n// export components for external use\nexport { DropdownComponent, DropdownTrigger, DropdownPanel };\n\n// define custom elements if not already defined\nif (!customElements.get(\"dropdown-component\")) {\n  customElements.define(\"dropdown-component\", DropdownComponent);\n}\n\nif (!customElements.get(\"dropdown-trigger\")) {\n  customElements.define(\"dropdown-trigger\", DropdownTrigger);\n}\n\nif (!customElements.get(\"dropdown-panel\")) {\n  customElements.define(\"dropdown-panel\", DropdownPanel);\n}\n"],"names":[],"mappings":"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","x_google_ignoreList":[0]}