{"version":3,"file":"dropdown-panel.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/components/dropdown-component.js","../src/components/dropdown-trigger.js","../src/components/dropdown-panel.js","../src/index.js"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","/**\n * main dropdown component\n * manages interactions between <dropdown-trigger> and <dropdown-panel>\n * @class DropdownComponent\n * @extends HTMLElement\n */\nexport class DropdownComponent extends HTMLElement {\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tconnectedCallback() {\n\t\tconst _ = this;\n\n\t\t// make component focusable for keyboard navigation\n\t\t_.setAttribute('tabindex', '-1');\n\n\t\t// get trigger element - use > to select only direct children\n\t\t_.trigger = _.querySelector(':scope > dropdown-trigger');\n\n\t\t// get panel element - use > to select only direct children\n\t\t_.panel = _.querySelector(':scope > dropdown-panel');\n\n\t\t// validate existence\n\t\tif (!_.trigger || !_.panel) {\n\t\t\tconsole.warn(\n\t\t\t\t'dropdown-component requires <dropdown-trigger> and <dropdown-panel> as direct children'\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\t// check if panel has 'wide' attribute for full-width layout\n\t\tif (_.panel.hasAttribute('wide')) {\n\t\t\t_.style.position = 'static';\n\t\t} else {\n\t\t\t_.style.position = 'relative';\n\t\t}\n\n\t\t// assign unique id to panel if needed\n\t\tconst panelId = _.panel.id || `dropdown-panel-${Date.now()}`;\n\t\t_.panel.id = panelId;\n\n\t\t// assign unique id to trigger if needed (for aria-labelledby)\n\t\tif (!_.trigger.id) {\n\t\t\t_.trigger.id = `dropdown-trigger-${Date.now()}`;\n\t\t}\n\n\t\t// initialize aria attributes\n\t\t_.trigger.setAttribute('aria-controls', panelId);\n\t\t_.trigger.setAttribute('aria-expanded', 'false');\n\t\t_.panel.setAttribute('aria-hidden', 'true');\n\t\t_.panel.setAttribute('aria-labelledby', _.trigger.id);\n\n\t\t// initial state\n\t\t_.hide();\n\n\t\t// mouse enter and leave events on main dropdown-component element\n\t\t_.addEventListener('mouseenter', () => _.show());\n\t\t_.addEventListener('mouseleave', () => _.hide());\n\n\t\t// show or hide with enter\n\t\t_.trigger.addEventListener('keydown', (event) => {\n\t\t\tif (event.key === 'Enter' || event.key === ' ') {\n\t\t\t\tevent.preventDefault();\n\t\t\t\t_.toggle();\n\t\t\t}\n\t\t\tif (event.key === 'Escape') {\n\t\t\t\t// Only handle if panel is actually open\n\t\t\t\tif (_.panel.getAttribute('aria-hidden') === 'false') {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tevent.stopPropagation(); // Prevent closing parent menus\n\t\t\t\t\t_.hide();\n\t\t\t\t\t_.trigger.focus();\n\t\t\t\t}\n\t\t\t\t// If panel is closed, do nothing - let event bubble to parent\n\t\t\t}\n\t\t});\n\n\t\t// hide panel when escape\n\t\t_.panel.addEventListener('keydown', (event) => {\n\t\t\tif (event.key === 'Escape') {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation(); // Prevent closing parent menus\n\t\t\t\t_.hide();\n\t\t\t\t_.trigger.focus();\n\t\t\t}\n\t\t});\n\t}\n\n\ttoggle() {\n\t\tconst _ = this;\n\t\tif (_.panel.getAttribute('aria-hidden') === 'true') {\n\t\t\t_.show();\n\t\t} else {\n\t\t\t_.hide();\n\t\t}\n\t}\n\n\tshow() {\n\t\tconst _ = this;\n\t\t_.panel.setAttribute('aria-hidden', 'false');\n\t\t_.panel.removeAttribute('inert');\n\t\t_.trigger.setAttribute('aria-expanded', 'true');\n\t}\n\n\thide() {\n\t\tconst _ = this;\n\t\t_.panel.setAttribute('aria-hidden', 'true');\n\t\t_.panel.setAttribute('inert', '');\n\t\t_.trigger.setAttribute('aria-expanded', 'false');\n\t}\n}\n\n// define the element\nif (!customElements.get('dropdown-component')) {\n\tcustomElements.define('dropdown-component', DropdownComponent);\n}\n","/**\n * Dropdown trigger component\n * Manages user interactions for opening and closing the dropdown\n * @class DropdownTrigger\n * @extends HTMLElement\n */\nexport class DropdownTrigger extends HTMLElement {\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\t/**\n\t * when element is connected to the dom\n\t */\n\tconnectedCallback() {\n\t\tconst _ = this;\n\n\t\t// ensure trigger has an ID for ARIA relationships\n\t\tif (!_.id) {\n\t\t\t_.id = `dropdown-trigger-${Date.now()}`;\n\t\t}\n\n\t\t// ensure trigger is focusable\n\t\tif (!_.hasAttribute('tabindex')) {\n\t\t\t_.setAttribute('tabindex', '0');\n\t\t}\n\n\t\t// set role for accessibility\n\t\tif (!_.hasAttribute('role')) {\n\t\t\t_.setAttribute('role', 'button');\n\t\t}\n\n\t\t// prevent text selection on trigger\n\t\t_.style.userSelect = 'none';\n\t}\n}\n","/**\n * Dropdown panel component\n * Container for dropdown content\n * @class DropdownPanel\n * @extends HTMLElement\n */\nexport class DropdownPanel extends HTMLElement {\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\t/**\n\t * when element is connected to the dom\n\t */\n\tconnectedCallback() {\n\t\tconst _ = this;\n\n\t\t// ensure aria-hidden is set initially\n\t\tif (!_.hasAttribute('aria-hidden')) {\n\t\t\t_.setAttribute('aria-hidden', 'true');\n\t\t}\n\t}\n}\n","/**\n * @file Main entry point for dropdown-panel web component\n * @author Cory Schulz\n * @version 0.1.0\n */\n\n// import styles\nimport './dropdown-component.scss';\n\n// import components\nimport { DropdownComponent } from './components/dropdown-component.js';\nimport { DropdownTrigger } from './components/dropdown-trigger.js';\nimport { DropdownPanel } from './components/dropdown-panel.js';\n\n// export components for external use\nexport { DropdownComponent, DropdownTrigger, DropdownPanel };\n\n// define custom elements if not already defined\nif (!customElements.get('dropdown-component')) {\n\tcustomElements.define('dropdown-component', DropdownComponent);\n}\n\nif (!customElements.get('dropdown-trigger')) {\n\tcustomElements.define('dropdown-trigger', DropdownTrigger);\n}\n\nif (!customElements.get('dropdown-panel')) {\n\tcustomElements.define('dropdown-panel', DropdownPanel);\n}\n"],"names":[],"mappings":"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","x_google_ignoreList":[0]}